<div class="flex flex-col min-h-screen items-center my-7">

  <div class="font-bold text-3xl">Fyle Internship Challenge</div>

  <form class="flex flex-col" (ngSubmit)="getData(usrname)">

    <input [size]="inputBoxSize" type="text" name="username" placeholder="Enter Github Username"
      class="my-3 text-center border-2 border-gray-400 rounded-md placeholder:text-blue-950"
      [(ngModel)]="usrname" (input)="usernameEntered($event)">

    <button type="submit" class="border-2 border-gray-400 rounded-lg my-3 w-40 self-center px-4 py-1 hover:shadow-sm hover:shadow-violet-950">Get Repos</button>

  </form>

  <div *ngIf="!hideLoader" class="border-2 shadow rounded-md py-4 w-4/5 px-20 m-10">
    <div class="animate-pulse">
      <div class="flex space-x-4">
        <div class="rounded-full self-center bg-slate-500 h-32 w-32"></div>
        <div class="flex-1 space-y-4 px-10 py-2">
          <div class="h-8 w-1/3 bg-slate-500 rounded"></div>
          <div class="h-6 w-2/3 bg-slate-500 rounded"></div>
          <div class="h-6 w-1/3 bg-slate-500 rounded"></div>
          <div class="h-6 w-2/3 bg-slate-500 rounded"></div>
        </div>
      </div>

      <ul class="grid grid-cols-3 gap-3 my-5 place-content-stretch">
        <li *ngFor="let item of arr9;" class="h-12 bg-slate-500 rounded"></li>
      </ul>
    </div>
  </div>

  <div *ngIf="!hideData" class="border-2 shadow rounded-md py-4 min-h-full w-4/5 px-20 m-10">
    <div class="flex items-center space-x-4 my-4">
      <div>
        <img [src]="avatarUrl" class="rounded-full h-32 w-32 border-2 border-stone-950 shadow-2xl" alt="">
      </div>
      <div class="flex-1 space-y-4 px-10 py-2">
        <h1 class="text-4xl font-bold h-8 rounded">{{displayName}}</h1>
        <div class="h-6 text-lg rounded">{{bio}}</div>
        <div class="h-6 text-lg rounded" [ngClass]="{'hidden': location==null}">
          <img src="https://www.svgrepo.com/show/127575/location-sign.svg" class="inline h-5 mx-1 -mt-2" alt="">
          <span>{{location}}</span>
        </div>
        <div class="h-6 text-lg rounded" [ngClass]="{'hidden': twitter==null}">{{twitter}}</div>
        <div class="h-6 text-lg font-bold rounded">Total Repositories: {{totalRepos}}</div>
      </div>
    </div>
    <div class="my-5">
      <img
        src="https://thenounproject.com/api/private/icons/6274621/edit/?backgroundShape=SQUARE&backgroundShapeColor=%23000000&backgroundShapeOpacity=0&exportSize=752&flipX=false&flipY=false&foregroundColor=%23000000&foregroundOpacity=1&imageFormat=png&rotation=0"
        class="h-8 w-8 inline -mt-1" alt="">
      <a [href]="userUrl">{{userUrl}}</a>
    </div>

    <ul class="grid grid-cols-3 gap-3 place-content-stretch ">
      <li *ngFor="let repo of currentRepos"
        class="px-4 overflow-hidden py-2 w-full border-2 shadow-sm border-sky-950 bg-zinc-100 rounded-md">
        <a href="{{repo.html_url}}" class="text-2xl font-bold text-blue-950">{{repo.name}}</a>
        <div class="text-sm my-3">{{repo.description}}</div>
        <ul class="flex">
          <li *ngFor="let topic of repo.topics" class="p-1 mx-1 text-sm rounded-md border-sky-950 border-2 bg-sky-200">
            {{topic}}
          </li>
        </ul>
      </li>
    </ul>

    <div class="flex justify-evenly m-4 ">
      <button
        class="bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
        [ngClass]="{'hidden':(currentPage==1)}" (click)="getFirst()">First</button>
      <button
        class="bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
        [ngClass]="{'hidden':(currentPage==1)}" (click)="getPrev()">Prev</button>
      <button
        class="bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
        [ngClass]="{'hidden':(currentPage==lastPage)}" (click)="getNext()">Next</button>
      <button
        class="bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
        [ngClass]="{'hidden':(currentPage==lastPage)}" (click)="getLast()">Last</button>
    </div>


    <div class="flex justify-center m-4 h-9 items-center">
      <label class='mx-3' for="perpage">Repo per page:</label>
      <input class='mx-3 rounded-sm text-center border border-sky-950' name="perpage" type="number" id="perpage" size="100" [(ngModel)]="perpage">
      <button
        class="bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
        (click)="getData(usrname)">Go</button>
    </div>
    <div class="italic w-full text-center">Max 100 repos per page</div>
  </div>


  <div *ngIf="!hideError" class="text-2xl my-4">
    Looks like you entered an incorrect username. Please try again!
  </div>

  <div *ngIf="!hideNoInput" class="text-2xl my-4">
    Your fingers forgot to touch the keyboard. Make an input!
  </div>
</div>