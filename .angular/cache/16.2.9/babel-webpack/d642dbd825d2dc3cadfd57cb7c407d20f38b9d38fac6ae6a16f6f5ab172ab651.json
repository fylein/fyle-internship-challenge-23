{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, HostListener } from '@angular/core';\nexport let AppComponent = class AppComponent {\n  constructor(apiService) {\n    this.apiService = apiService;\n    this.totalItems = 1;\n    this.currentPage = 1;\n    this.userRepos = [];\n    this.user_name = '';\n    this.perPage = 10;\n    this.totalPages = 1;\n    this.selectedPage = 1; // Initialize selectedPage\n    this.currentPage = 1;\n  }\n  ngOnInit() {\n    this.fetchUserData(this.user_name);\n  }\n  fetchUserData(name) {\n    this.apiService.getUser(this.user_name).subscribe(data => {\n      this.userData = data;\n      this.totalItems = data.public_repos;\n      this.fetchUserRepos(data.repos_url, this.currentPage, this.perPage);\n    });\n  }\n  fetchUserRepos(reposUrl, page, itemsPerPage) {\n    const startIndex = (page - 1) * itemsPerPage;\n    const apiUrl = `${reposUrl}?page=${page}&per_page=${itemsPerPage}`;\n    this.apiService.getRepos(apiUrl).subscribe(repos => {\n      this.userRepos = repos;\n    });\n  }\n  changePage(action) {\n    if (action === 'prev') {\n      // Handle previous page logic\n    } else if (action === 'next') {\n      // Handle next page logic\n    } else if (typeof action === 'number' && action >= 1 && action <= this.totalPages) {\n      if (action === this.selectedPage) {\n        // Deselect the selected page\n        this.selectedPage = 0;\n      } else {\n        this.selectedPage = action;\n      }\n      this.currentPage = action;\n    }\n    this.fetchUserData(this.user_name);\n  }\n  getPages(totalItems, perPage) {\n    const totalPages = Math.ceil(totalItems / perPage);\n    return Array.from({\n      length: totalPages\n    }, (_, i) => i + 1);\n  }\n  updateUserName() {\n    this.fetchUserData(this.user_name);\n  }\n  changeNameAndFetchData(newName) {\n    this.user_name = newName;\n    this.fetchUserData(this.user_name);\n  }\n  handleKeyboardEvent(event) {\n    if (event.key === 'Enter') {\n      this.updateUserName();\n    }\n  }\n};\n__decorate([HostListener('window:keydown', ['$event'])], AppComponent.prototype, \"handleKeyboardEvent\", null);\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: './app.component.scss'\n})], AppComponent);","map":{"version":3,"names":["Component","HostListener","AppComponent","constructor","apiService","totalItems","currentPage","userRepos","user_name","perPage","totalPages","selectedPage","ngOnInit","fetchUserData","name","getUser","subscribe","data","userData","public_repos","fetchUserRepos","repos_url","reposUrl","page","itemsPerPage","startIndex","apiUrl","getRepos","repos","changePage","action","getPages","Math","ceil","Array","from","length","_","i","updateUserName","changeNameAndFetchData","newName","handleKeyboardEvent","event","key","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\kamru\\OneDrive\\Desktop\\fly\\src\\app\\app.component.ts"],"sourcesContent":["import { Component, HostListener, OnInit } from '@angular/core';\nimport { ApiService } from './services/api.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: './app.component.scss'\n})\nexport class AppComponent implements OnInit {\n  totalItems: number = 1;\n  currentPage: number = 1;\n  userData: any;\n  userRepos: any[] = [];\n  user_name: string = '';\n  perPage: number = 10;\n  totalPages: number = 1;\n  selectedPage: number = 1; // Initialize selectedPage\n\n  constructor(private apiService: ApiService) {\n    this.currentPage = 1;\n  }\n\n  ngOnInit() {\n    this.fetchUserData(this.user_name);\n  }\n\n  fetchUserData(name: string) {\n    this.apiService.getUser(this.user_name).subscribe((data: any) => {\n      this.userData = data;\n      this.totalItems = data.public_repos;\n      this.fetchUserRepos(data.repos_url, this.currentPage, this.perPage);\n    });\n  }\n\n  fetchUserRepos(reposUrl: string, page: number, itemsPerPage: number) {\n    const startIndex = (page - 1) * itemsPerPage;\n    const apiUrl = `${reposUrl}?page=${page}&per_page=${itemsPerPage}`;\n    this.apiService.getRepos(apiUrl).subscribe((repos: any[]) => {\n      this.userRepos = repos;\n    });\n  }\n\n  changePage(action: string | number) {\n    if (action === 'prev') {\n      // Handle previous page logic\n    } else if (action === 'next') {\n      // Handle next page logic\n    } else if (typeof action === 'number' && action >= 1 && action <= this.totalPages) {\n      if (action === this.selectedPage) {\n        // Deselect the selected page\n        this.selectedPage = 0;\n      } else {\n        this.selectedPage = action;\n      }\n      this.currentPage = action;\n    }\n    this.fetchUserData(this.user_name);\n  }\n\n  getPages(totalItems: number, perPage: number): number[] {\n    const totalPages = Math.ceil(totalItems / perPage);\n    return Array.from({ length: totalPages }, (_, i) => i + 1);\n  }\n\n  updateUserName() {\n    this.fetchUserData(this.user_name);\n  }\n\n  changeNameAndFetchData(newName: string) {\n    this.user_name = newName;\n    this.fetchUserData(this.user_name);\n  }\n\n  @HostListener('window:keydown', ['$event'])\n  handleKeyboardEvent(event: KeyboardEvent) {\n    if (event.key === 'Enter') {\n      this.updateUserName();\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}